# MCP Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=3000
SERVER_TRANSPORT=http

# By default server will be started with https for MCP http transport mode. 
# Override explicitly with SERVER_HTTPS=False if you want to start with just http
SERVER_HTTPS=True
# Path to your cert and key files when running with https. Refer to readme_guides/SERVER_HTTPS.md for more details
SSL_CERT_PATH=
SSL_KEY_PATH=

# Auth token for stdio mode (optional)
# When running in stdio mode, this token will be automatically added to requests
# This allows testing tools locally without needing to pass auth headers
# Can be provided with or without "Bearer " prefix
# Examples:
#   DI_AUTH_TOKEN=your-token-here
#   DI_AUTH_TOKEN=Bearer your-token-here
DI_AUTH_TOKEN=

# apikey. USERNAME must be provided for CPD
# Provide either DI_AUTH_TOKEN or DI_APIKEY/DI_USERNAME for authentication
DI_APIKEY=
DI_USERNAME=

# Supported values Saas or CPD
ENV_MODE=SaaS
# ENV_MODE=CPD

# For CPD, this would be your cluster url. Change accordingly
# Default url below is for Cloud
DI_SERVICE_URL=https://api.dataplatform.dev.cloud.ibm.com

# If provided, will use this for logging else stdout( for http server mode )
# For server run in stdio mode, log file path has to be provided
# since stdio is used by the mcp protocol
# Example: LOG_FILE_PATH=/tmp/data-intelligence-mcp-server.log
LOG_FILE_PATH=

# HTTP Client Settings
REQUEST_TIMEOUT_S=60

# Context for UI URLs ( df, cpdaas for DI_ENV_MODE=SaaS; df, cpd for DI_ENV_MODE=CPD )
# Default is "df" if not specified. The returned url from tools responses will be appended by query parameter `context=df` for example
DI_CONTEXT=df

# ADVANCED: HTTP Client Connection Pool Settings
# These settings control the connection pool for outgoing HTTP requests to external APIs
# Max concurrent outgoing connections to external APIs (default: 150)
HTTP_MAX_CONNECTIONS=150
# Max idle connections kept in pool for reuse (default: 50)
HTTP_MAX_KEEPALIVE_CONNECTIONS=50
# Seconds to keep idle connections alive (default: 60.0)
HTTP_KEEPALIVE_EXPIRY=60.0

# ADVANCED: Server-side Connection Settings (for HTTP transport mode)
# These settings control how the MCP server handles incoming client connections
# Max concurrent incoming client connections (default: 300)
SERVER_LIMIT_CONCURRENCY=300
# Keep-alive timeout for client connections in seconds (default: 60)
SERVER_TIMEOUT_KEEP_ALIVE=60
# Connection queue size for pending connections (default: 2048)
SERVER_BACKLOG=2048
